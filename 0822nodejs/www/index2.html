<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Document</title>
        <style>
            #box{
                    background: skyblue;
                    width: 200px;
                    height: 200px;
            }
        </style>
</head>
<body>
<div id="box"></div>
<input type="text" id="user_name"/>
<input type="password" id="pass_word"/>
<button id="btn">注册</button>
<button id="login_btn">登录</button>

<script>
var box  = document.getElementById('box')
var pwInp= document.getElementById('pass_word')
var userInp  = document.getElementById('user_name')
var btn  = document.getElementById('btn')
var lBtn  = document.getElementById('login_btn')
btn.onclick = function(){
        var xhr= new XMLHttpRequest();
        xhr.open('post','/user');
        xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
        xhr.send('act=add&username='+userInp.value+'&password='+pwInp.value);
        xhr.onload = function(){
        	let data = JSON.parse(xhr.responseText);
                console.log(data)
        }
}
lBtn.onclick = function(){
		var xhr= new XMLHttpRequest();
        xhr.open('post','/user');
        xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
        xhr.send('act=login&username='+userInp.value+'&password='+pwInp.value);
        xhr.onload = function(){
        	let data = JSON.parse(xhr.responseText);
                console.log(data)
        }
        
}


</script>
</body>
</html>
